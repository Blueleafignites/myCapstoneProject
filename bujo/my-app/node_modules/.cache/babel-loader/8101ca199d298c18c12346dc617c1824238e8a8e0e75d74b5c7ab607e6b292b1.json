{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nconst useFetch = url => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const handleGoogle = async response => {\n    setLoading(true);\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        credential: response.credential\n      })\n    }).then(res => {\n      setLoading(false);\n      return res.json();\n    }).then(data => {\n      if (data !== null && data !== void 0 && data.user) {\n        localStorage.setItem(\"user\", JSON.stringify(data === null || data === void 0 ? void 0 : data.user));\n        window.location.reload();\n      }\n      throw new Error((data === null || data === void 0 ? void 0 : data.message) || data);\n    }).catch(error => {\n      setError(error === null || error === void 0 ? void 0 : error.message);\n    });\n  };\n  return {\n    loading,\n    error,\n    handleGoogle\n  };\n};\n_s(useFetch, \"AvkqqGi0dLSrybP4yaTVnuw07+4=\");\nexport default useFetch;","map":{"version":3,"names":["useState","useFetch","url","_s","loading","setLoading","error","setError","handleGoogle","response","fetch","method","headers","body","JSON","stringify","credential","then","res","json","data","user","localStorage","setItem","window","location","reload","Error","message","catch"],"sources":["C:/Users/Bluem/Documents/School Related/2023/Winter/Capstone App Development/bujo_project/bujo/my-app/src/useFetch.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst useFetch = (url) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const handleGoogle = async (response) => {\r\n        setLoading(true);\r\n        fetch(url, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n\r\n            body: JSON.stringify({ credential: response.credential }),\r\n        })\r\n            .then((res) => {\r\n                setLoading(false);\r\n\r\n                return res.json();\r\n            })\r\n            .then((data) => {\r\n                if (data?.user) {\r\n                    localStorage.setItem(\"user\", JSON.stringify(data?.user));\r\n                    window.location.reload();\r\n                }\r\n\r\n                throw new Error(data?.message || data);\r\n            })\r\n            .catch((error) => {\r\n                setError(error?.message);\r\n            });\r\n    };\r\n    return { loading, error, handleGoogle };\r\n};\r\n\r\nexport default useFetch;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,QAAQ,GAAIC,GAAG,IAAK;EAAAC,EAAA;EACtB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMQ,YAAY,GAAG,MAAOC,QAAQ,IAAK;IACrCJ,UAAU,CAAC,IAAI,CAAC;IAChBK,KAAK,CAACR,GAAG,EAAE;MACPS,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MAEDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,UAAU,EAAEP,QAAQ,CAACO;MAAW,CAAC;IAC5D,CAAC,CAAC,CACGC,IAAI,CAAEC,GAAG,IAAK;MACXb,UAAU,CAAC,KAAK,CAAC;MAEjB,OAAOa,GAAG,CAACC,IAAI,EAAE;IACrB,CAAC,CAAC,CACDF,IAAI,CAAEG,IAAI,IAAK;MACZ,IAAIA,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEC,IAAI,EAAE;QACZC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAET,IAAI,CAACC,SAAS,CAACK,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEC,IAAI,CAAC,CAAC;QACxDG,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;MAC5B;MAEA,MAAM,IAAIC,KAAK,CAAC,CAAAP,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,OAAO,KAAIR,IAAI,CAAC;IAC1C,CAAC,CAAC,CACDS,KAAK,CAAEvB,KAAK,IAAK;MACdC,QAAQ,CAACD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEsB,OAAO,CAAC;IAC5B,CAAC,CAAC;EACV,CAAC;EACD,OAAO;IAAExB,OAAO;IAAEE,KAAK;IAAEE;EAAa,CAAC;AAC3C,CAAC;AAACL,EAAA,CAhCIF,QAAQ;AAkCd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}